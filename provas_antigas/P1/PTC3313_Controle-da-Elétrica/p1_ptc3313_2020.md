# P1 - 2020 (PTC3313)

Arquivo PDF: [link](./p1_ptc3313_2020.pdf)

## Quest√£o 1 **(Valor: 1,0)**

Num motor CC foi aplicado um degrau unit√°rio de tens√£o nos terminais da sua entrada $u(t)$. A velocidade de sa√≠da $y(t)$ foi medida por meio de um tacogerador, cujo gr√°fico est√° representado na figura a seguir.

![Gr√°fico de sistema de 1¬™ ordem](../img/p1_ptc3313_2020_q1.png)

Supondo que o gr√°fico acima represente a sa√≠da $y(t)$ (em Volts) em fun√ß√£o de $t$(em s) de um sistema de primeira ordem, determine a fun√ß√£o de transfer√™ncia do motor CC.

<div style="border: 2px solid #ccc; padding: 10px; background-color: #0000;">
O sistema de 1¬™ ordem pode ser expresso pela seguinte fun√ß√£o de transfer√™ncia:

$$
G(s) = \dfrac{A}{1+sT} = \dfrac{Y(s)}{U(s)}
$$

ou no dom√≠nio do tempo: $y(t) = A(1 - e^{-t/T}), t\geq0$

Onde $T$ √© a constante de tempo e $A$ √© a amplitude. Para calcular a amplitude $A$ podemos usar o pr√≥prio gr√°fico.

$$
A = \lim_{t\to \infty} y(t) = 8
$$

Para calcular $T$ aplicamos na f√≥rmula da sa√≠da no dom√≠nio do tempo:

$$ y(T) = A(1 - e^{-T/T}) $$
$$ y(T) = A(1 - e^{-1}) $$
$$ y(T) \approx 0,6321A \implies y(T) \approx 5$$

Pelo gr√°fico, o valor corresponde para $y(T) \approx 5$ √© $t = 4$. Logo, $T = 4$.

Com esses valores calculados, temos nossa resposta:

$$ G(s) = \dfrac{8}{1 + 4s} $$
</div>



## Quest√£o 2 **(Valor: 5,5)**

Um engenheiro quer projetar um sistema de controle proporcional $K$($K>0$) em malha
fechada com realimenta√ß√£o unit√°ria para a planta

$$
G(s) = \dfrac{1}{(s+1)(s+5)(s^2+2s+17)}
$$

Pede-se:

a) Determine o valor do erro estacion√°rio ao degrau unit√°rio para este sistema. **(Valor 0,5)**

b) Determine, utilizando o crit√©rio de Routh-Hurwitz, para que valores de ùêæ o
sistema √© est√°vel. **(Valor 1,0)**

c) Esboce o Lugar Geom√©trico das Ra√≠zes indicando claramente os pontos de in√≠cio e t√©rmino do LGR , o LGR sobre o eixo real, os √¢ngulos das ass√≠ntotas, intersec√ß√£o das ass√≠ntotas com o eixo real, os pontos de partida e chegada do eixo real (indicando o ganho associado), os √¢ngulos de partida dos polos complexos e, se houver, os pontos de cruzamento com o eixo imagin√°rio (ganho e frequ√™ncia). **(Valor 3,0)**

d) Determine o valor de ùêæ tal que dois polos de malha fechada se situem em $‚àí0.482 \pm 3.73j$. **(Valor 1,0)**

<div style="border: 2px solid #ccc; padding: 10px; background-color: #0000;">

a) C√°lculo do erro estacion√°rio para entrada degrau unit√°rio ($R(s) = 1/s$)

$$
E(s) = \dfrac{R(s)}{1+G_c(s)G(s)H(s)}
$$

$$
E(s) = \dfrac{1/s}{1+KG(s)}
$$

Pelo TVF:

$$
e(\infty)=\lim_{t\to\infty}e(t) = \lim_{s\to0}sE(s)
$$

$$
e(\infty) = \lim_{s\to0}s\dfrac{1/s}{1+KG(s)}
$$

$$
e(\infty) = \lim_{s\to0}\dfrac{1}{1+KG(s)}
$$

$$
e(\infty) = \dfrac{1}{1+K\lim_{s\to0}G(s)}
$$

$$
e(\infty) = \dfrac{1}{1+K\dfrac{1}{1\cdot5\cdot17}}
$$

$$\therefore
e(\infty) = \dfrac{85}{85+K}
$$

b) ...

c) ...

d) ...

</div>

## Quest√£o 3 **(Valor: 3,5)**

Considere o sistema da seguinte figura.

![Gr√°fico de sistema de 1¬™ ordem](../img/p1_ptc3313_2020_q3.png)

Considerando $G_c(s) = 1$, pede-se:

a) A ordem e o tipo do sistema? **(Valor: 0,5)**

b) A frequ√™ncia natural n√£o amortecida, o coeficiente de amortecimento, o sobressinal e o tempo de acomoda√ß√£o ($2\%$) do sistema em malha fechada? **(Valor: 0,5)**

c) √â poss√≠vel projetar um controlador proporcional, i.e., $G_c(s) = k$, tal que o tempo de acomoda√ß√£o ($2\%$)
 do sistema em malha fechada seja $t_s(2\%) 
 \approx 1.0s$ e o sobressinal m√°ximo seja 1.52%? 
 Justifique utilizando o Lugar das Ra√≠zes.
**(Valor: 1,0)**

d) Deseja-se agora empregar o seguinte compensador

$$
G_c(s) = k_c\dfrac{(s+z_c)}{(s+p_c)}
$$

Projete o mesmo de forma a cancelar o polo mais r√°pido da planta e garantir as mesmas especifica√ß√µes do item c). Justifique utilizando o Lugar das Ra√≠zes.
**(Valor: 1,5)**

<div style="border: 2px solid #ccc; padding: 10px; background-color: #0000;">
a) Ordem e tipo do sistema

A fun√ß√£o de transfer√™ncia precisa estar na forma can√¥nica, i.e., com os polin√¥mios do numerador e denominador fatorados em polin√¥mios do primeiro grau. Nesse caso, temos:

$$
G(s) = \dfrac{1}{(s+2)(s+1)}
$$

Como n√£o h√° no denominador nenhum termo do tipo $s^N$ isolado, temos que o tipo $N$ do nosso sistema √© zero.

J√° a ordem do sistema √© o grau do polin√¥mio completo do denominador. Como o denominador √© um produto de 2 polin√¥mios do 1¬∫ grau, temos, portanto, um polin√¥mio do 2¬∫ grau. Isso caracteriza um sistema de 2¬™ ordem.

**Resposta:** Tipo 0 e ordem 2

b) Frequ√™ncia natural n√£o amortecida, coeficiente de amortecimento, sobressinal e tempo de acomoda√ß√£o ($2\%$) 
do sistema em malha fechada

Vamos primeiro calcular a FTMF.

$$ FTMA = G_c(s)G(s)H(s) $$
Como $G_c(s) = H(s)\equiv 1$, ent√£o:
$$ FTMA = \dfrac{1}{(s+2)(s+1)} $$

Para a FTMF, sendo realimenta√ß√£o unit√°ria, apenas somamos o numerador ao denominador. Ou voc√™ pode optar por usar a defini√ß√£o de FTMF.

$$
FTMF = \dfrac{G(s)}{1 + G(s)H(s)}
$$

$$
FTMF = \dfrac{1}{(s+2)(s+1) + 1}
$$

$$
\therefore FTMF = \dfrac{1}{s^2 +3s +3}
$$

Como estamos lidando com um sistema de 2¬™ ordem, para calcular os par√¢metros pedidos, precisamos comparar com a seguinte f√≥rmula:

$$
FTMF = \dfrac{1}{s^2 +3s +3} = \dfrac{\omega_n^2}{s^2 + 2\xi\omega_n s + \omega_n^2}
$$

Onde $\omega_n$ √© a frequ√™ncia natural n√£o amortecida e $\xi$ √© o coeficiente de amortecimento.

Podemos multiplicar e dividir por $3$ para igualar a f√≥rmula (ignore o 1/3 na compara√ß√£o dos valores).

$$
FTMF = \dfrac{1}{3}\left(\dfrac{3}{s^2 +3s +3}\right)= \dfrac{\omega_n^2}{s^2 + 2\xi\omega_n s + \omega_n^2}
$$

Assim, temos:
$$
\omega_n^2 = 3
$$

$$
2\xi\omega_n = 3
$$

Logo:
$$
\omega_n = \sqrt{3}\text{ rad/s}
$$

$$
\xi = \dfrac{3}{2\omega_n} \implies \xi = \dfrac{\sqrt{3}}{2}\approx 0,866
$$

Os demais valores possuem f√≥rmula:
- Sobressinal:
$$M_p = \exp{\left(\dfrac{-\pi \xi}{\sqrt{1 - \xi^2}}\right)} = 0,433\%$$
- Tempo de acomoda√ß√£o a 2\% ($t_s(2\%)$):$$t_s(2\%) = \dfrac{3}{\xi\omega_n} = 2s$$

c) Reajuste com compensador de ganho $k$

Se temos $G_c(s) = k$, teremos as seguintes fun√ß√µes de transfer√™ncia de malha aberta e fechada:

$$
FTMA = G_c(s)G(s)H(s) = k\cdot\dfrac{1}{(s+2)(s+1)}\cdot 1
$$

$$
\therefore FTMA = \dfrac{k}{(s+2)(s+1)}
$$

$$
FTMF = \dfrac{k}{(s+2)(s+1) + k} = \dfrac{k}{s^2+3s+2 + k}
$$


Os valores novos de tempo de acomoda√ß√£o e sobressinal s√£o:

$$
t_s(2\%) = \dfrac{3}{\xi\omega_n} = 1
$$

$$
M_p = \exp{\left(\dfrac{-\pi \xi}{\sqrt{1 - \xi^2}}\right)} = 1,52\%
$$

Como o sobressinal depende s√≥ do $\xi$, ent√£o fazemos os c√°lculos:

$$
\exp{\left(\dfrac{-\pi \xi}{\sqrt{1 - \xi^2}}\right)} = 1,52\%
$$

<!-- $$ {\dfrac{-\pi \xi}{\sqrt{1 - \xi^2}}} = \ln(1,52/100) $$
$$ {\dfrac{\xi}{\sqrt{1 - \xi^2}}} = \dfrac{\ln(0,0152)}{-\pi} $$ -->

$$
\therefore\xi = 0,6397
$$

Pelo tempo de acomoda√ß√£o: $\omega_n = 3/\xi \implies \omega_n = 4,6894 \text{rad/s}$

Portanto, o sistema de 2¬™ ordem reajustado √©:

$$
FTMF' = \dfrac{22}{s^2 + 6s + 22}
$$

Considerando realimenta√ß√£o unit√°ria, sua FTMA respectiva √© $FTMA' = \dfrac{22}{s^2+6s}$. Portanto possui em MA:
- Zeros: nenhum (0 zeros)
- Polos: $\{0;-6\}$ (2 polos)

Como temos uma diferen√ßa no termo 3s e 6s, n√£o √© poss√≠vel dimensionar esse compensador para esses novos requisitos do sistema de 2¬™ ordem.

[Fazer o LGR]

d) Compensador com zero e polo

Teremos a seguite FTMA:

$$
FTMA = k_c\dfrac{(s+z_c)}{(s+p_c)}\cdot \dfrac{1}{(s+2)(s+1)}
$$

$$
\therefore FTMA = \dfrac{k_c(s+z_c)}{(s+2)(s+1)(s+p_c)}
$$

Possui:
- Zeros: $-z_c$ (1 zero)
- Polos: $\{-2;-1;-p_c\}$ (3 polos)

Pelo projeto, devemos cancelar o polo mais r√°pido da planta. No plano complexo estamos lidando com valores de frequ√™ncia, portanto quanto mais longe da origem maior a frequ√™ncia (menor tempo). Logo, devemos cancelar o polo mais distante da origem, i.e., o polo -2. Dessa forma, teremos $z_c=2$ e a seguinte FTMA:

$$
FTMA = \dfrac{k_c}{(s+1)(s+p_c)}
$$

Considerando agora esses 2 polos restantes: temos o seguinte LGR:
[desenhar e inserir aqui]

</div>